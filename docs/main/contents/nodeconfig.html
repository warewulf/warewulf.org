

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Node Configuration &mdash; Warewulf User Guide main documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="../_static/graphviz.css?v=4ae1632d" />

  
    <link rel="shortcut icon" href="../_static/favicon.png"/>
      <script src="../_static/jquery.js?v=5d32c60e"></script>
      <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="../_static/documentation_options.js?v=a8da1a53"></script>
      <script src="../_static/doctools.js?v=9bcbadda"></script>
      <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Node Profiles" href="profiles.html" />
    <link rel="prev" title="Boot Management" href="boot-management.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            Warewulf User Guide
              <img src="../_static/logo.png" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Contents</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="background.html">Background</a></li>
<li class="toctree-l1"><a class="reference internal" href="stateless.html">Stateless Provisioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Control Server Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Warewulf Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Warewulf Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="wwctl.html">Controlling Warewulf (wwctl)</a></li>
<li class="toctree-l1"><a class="reference internal" href="initialization.html">Warewulf Initialization</a></li>
<li class="toctree-l1"><a class="reference internal" href="containers.html">Container Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="kernel.html">Kernel Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="boot-management.html">Boot Management</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Node Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#the-node-configuration-db">The Node Configuration DB</a></li>
<li class="toctree-l2"><a class="reference internal" href="#adding-a-new-node">Adding a New Node</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#adding-several-nodes">Adding several nodes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#node-names">Node Names</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#listing-nodes">Listing Nodes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#setting-node-attributes">Setting Node Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="#configuring-the-node-s-container-image">Configuring the Node’s Container Image</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#configuring-the-node-s-kernel">Configuring the Node’s Kernel</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuring-the-node-s-network">Configuring the Node’s Network</a></li>
<li class="toctree-l3"><a class="reference internal" href="#additional-networks">Additional networks</a></li>
<li class="toctree-l3"><a class="reference internal" href="#vlan">VLAN</a></li>
<li class="toctree-l3"><a class="reference internal" href="#static-routes">Static Routes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#node-discovery">Node Discovery</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#un-setting-node-attributes">Un-setting Node Attributes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="profiles.html">Node Profiles</a></li>
<li class="toctree-l1"><a class="reference internal" href="overlays.html">Warewulf Overlays</a></li>
<li class="toctree-l1"><a class="reference internal" href="provisioning.html">Node Provisioning</a></li>
<li class="toctree-l1"><a class="reference internal" href="ipmi.html">IPMI</a></li>
<li class="toctree-l1"><a class="reference internal" href="disks.html">Disk Management</a></li>
<li class="toctree-l1"><a class="reference internal" href="security.html">Security</a></li>
<li class="toctree-l1"><a class="reference internal" href="templating.html">Templating</a></li>
<li class="toctree-l1"><a class="reference internal" href="dnsmasq.html">dnsmasq</a></li>
<li class="toctree-l1"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference internal" href="known-issues.html">Known issues</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Quickstart</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/el.html">Enterprise Linux (Rocky Linux, CentOS, and RHEL)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/suse15.html">openSUSE Leap and SLES 15</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart/debian12.html">Debian 12</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Contributing</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../contributing/contributing.html">Contributing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/debugging.html">Debugging</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/documentation.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/development-environment-vagrant.html">Development Environment (Vagrant)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/development-environment-kvm.html">Development Environment (KVM)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributing/development-environment-vbox.html">Development Environment (VirtualBox)</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Warewulf User Guide</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content style-external-links">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Node Configuration</li>
      <li class="wy-breadcrumbs-aside">
              <a href="https://github.com/warewulf/warewulf/blob/main/userdocs/contents/nodeconfig.rst" class="fa fa-github"> Edit on GitHub</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="node-configuration">
<h1>Node Configuration<a class="headerlink" href="#node-configuration" title="Link to this heading"></a></h1>
<section id="the-node-configuration-db">
<h2>The Node Configuration DB<a class="headerlink" href="#the-node-configuration-db" title="Link to this heading"></a></h2>
<p>As mentioned in the <a class="reference internal" href="configuration.html"><span class="doc">Warewulf Configuration</span></a>
section, node configs are persisted to the <code class="docutils literal notranslate"><span class="pre">nodes.conf</span></code> YAML file,
but generally it is best not to edit this file directly (however that
is supported, it is just prone to errors).</p>
<p>This method of using a YAML configuration file as a backend datastore
is both scalable and very lightweight. We’ve tested this out to over
10,000 node entries which yielded update latencies under 1 second,
which we felt was both tolerable and advantageous.</p>
</section>
<section id="adding-a-new-node">
<h2>Adding a New Node<a class="headerlink" href="#adding-a-new-node" title="Link to this heading"></a></h2>
<p>Creating a new node is as simple as running the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span>add<span class="w"> </span>n001<span class="w"> </span>-I<span class="w"> </span><span class="m">10</span>.0.2.1
<span class="go">Added node: n001</span>
</pre></div>
</div>
<section id="adding-several-nodes">
<h3>Adding several nodes<a class="headerlink" href="#adding-several-nodes" title="Link to this heading"></a></h3>
<p>Several nodes can be added with a single command if a node range is
given. An additional IP address will incremented. So the command</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span>add<span class="w"> </span>n00<span class="o">[</span><span class="m">2</span>-4<span class="o">]</span><span class="w"> </span>-I<span class="w"> </span><span class="m">10</span>.0.2.2
<span class="go">Added node: n002</span>
<span class="go">Added node: n003</span>
<span class="go">Added node: n004</span>

<span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span>list<span class="w"> </span>-n<span class="w"> </span>n00<span class="o">[</span><span class="m">1</span>-4<span class="o">]</span>
<span class="go">NODE NAME              NAME     HWADDR             IPADDR          GATEWAY         DEVICE</span>
<span class="go">n001                   default  --                 10.0.2.1        --              (eth0)</span>
<span class="go">n002                   default  --                 10.0.2.2        --              (eth0)</span>
<span class="go">n003                   default  --                 10.0.2.3        --              (eth0)</span>
<span class="go">n004                   default  --                 10.0.2.4        --              (eth0)</span>
</pre></div>
</div>
<p>has added 4 nodes with the incremented IP addresses.</p>
</section>
<section id="node-names">
<h3>Node Names<a class="headerlink" href="#node-names" title="Link to this heading"></a></h3>
<p>For small clusters, you can use simple names (e.g. <code class="docutils literal notranslate"><span class="pre">n0000</span></code>); but for
larger, more complicated clusters that are comprised of multiple
clusters and roles it is highly recommended to use node names that
include a cluster descriptor. In Warewulf, this is generally done by
using a domain name (e.g. <code class="docutils literal notranslate"><span class="pre">n001.cluster01</span></code>). Warewulf will
automatically assume that the domain is the equivalent of the cluster
name.</p>
<p>This also means that you can address groups of nodes by the cluster
descriptor with globs. For example, you are able to refer to all nodes
in “cluster01” with the following string: <code class="docutils literal notranslate"><span class="pre">*.cluster01</span></code> which is
valuable for other <code class="docutils literal notranslate"><span class="pre">wwctl</span></code> commands.</p>
</section>
</section>
<section id="listing-nodes">
<h2>Listing Nodes<a class="headerlink" href="#listing-nodes" title="Link to this heading"></a></h2>
<p>Once you have configured one or more nodes, you can list them and
their attributes as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span>list
<span class="go">NODE NAME              PROFILES                   NETWORK</span>
<span class="go">n001                                              default</span>
</pre></div>
</div>
<p>You can also see the node’s full attribute list by specifying the
<code class="docutils literal notranslate"><span class="pre">-a</span></code> option (all):</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span>list<span class="w"> </span>-a<span class="w"> </span>n001
<span class="go">NODE                 FIELD              PROFILE      VALUE</span>
<span class="go">n001                 Id                 --           n001</span>
<span class="go">n001                 comment            default      This profile is automatically included for each node</span>
<span class="go">n001                 cluster            --           --</span>
<span class="go">n001                 container          default      sle-micro-5.3</span>
<span class="go">n001                 ipxe               --           (default)</span>
<span class="go">n001                 runtime            --           (hosts,ssh.authorized_keys,syncuser)</span>
<span class="go">n001                 wwinit             --           (wwinit,wwclient,fstab,hostname,ssh.host_keys,issue,resolv,udev.netname,systemd.netname,ifcfg,NetworkManager,debian.interfaces,wicked,ignition)</span>
<span class="go">n001                 root               --           (initramfs)</span>
<span class="go">n001                 discoverable       --           --</span>
<span class="go">n001                 init               --           (/sbin/init)</span>
<span class="go">n001                 asset              --           --</span>
<span class="go">n001                 kerneloverride     --           --</span>
<span class="go">n001                 kernelargs         --           (quiet crashkernel=no net.ifnames=1)</span>
<span class="go">n001                 ipmiaddr           --           --</span>
<span class="go">n001                 ipminetmask        --           --</span>
<span class="go">n001                 ipmiport           --           --</span>
<span class="go">n001                 ipmigateway        --           --</span>
<span class="go">n001                 ipmiuser           --           --</span>
<span class="go">n001                 ipmipass           --           --</span>
<span class="go">n001                 ipmiinterface      --           --</span>
<span class="go">n001                 ipmiwrite          --           --</span>
<span class="go">n001                 profile            --           default</span>
<span class="go">n001                 default:type       --           (ethernet)</span>
<span class="go">n001                 default:onboot     --           --</span>
<span class="go">n001                 default:netdev     --           (eth0)</span>
<span class="go">n001                 default:hwaddr     --           --</span>
<span class="go">n001                 default:ipaddr     --           172.16.1.11</span>
<span class="go">n001                 default:ipaddr6    --           --</span>
<span class="go">n001                 default:netmask    --           (255.255.255.0)</span>
<span class="go">n001                 default:gateway    --           --</span>
<span class="go">n001                 default:mtu        --           --</span>
<span class="go">n001                 default:primary    --           true</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>The attribute values in parenthesis are default values and can be
overridden in the next section, granted, the default values are
generally usable.</p>
</div>
</section>
<section id="setting-node-attributes">
<h2>Setting Node Attributes<a class="headerlink" href="#setting-node-attributes" title="Link to this heading"></a></h2>
<p>In the above output we can see that there is no kernel or container
defined for this node. To provision a node, the minimum requirements
are a kernel and container, and for that node to be useful, we will
also need to configure the network so the nodes are reachable after
they boot.</p>
<p>Node configurations are set using the <code class="docutils literal notranslate"><span class="pre">wwctl</span> <span class="pre">node</span> <span class="pre">set</span></code> command. To
see a list of all configuration attributes, use the command <code class="docutils literal notranslate"><span class="pre">wwctl</span>
<span class="pre">node</span> <span class="pre">set</span> <span class="pre">--help</span></code>.</p>
</section>
<section id="configuring-the-node-s-container-image">
<h2>Configuring the Node’s Container Image<a class="headerlink" href="#configuring-the-node-s-container-image" title="Link to this heading"></a></h2>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span><span class="nb">set</span><span class="w"> </span>--container<span class="w"> </span>rocky-8<span class="w"> </span>n001
<span class="go">Are you sure you want to modify 1 nodes(s): y</span>
</pre></div>
</div>
<p>And you can check that the container name is set for <code class="docutils literal notranslate"><span class="pre">n001</span></code>:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span>list<span class="w"> </span>-a<span class="w">  </span>n001<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>Container
<span class="go">n0000                Container          --           rocky-8</span>
</pre></div>
</div>
<section id="configuring-the-node-s-kernel">
<h3>Configuring the Node’s Kernel<a class="headerlink" href="#configuring-the-node-s-kernel" title="Link to this heading"></a></h3>
<p>While the recommended method for assigning a kernel in v4.3 and beyond
is to include it in the container / node image, a kernel can still be
specified as an override at the node or profile.  To illustrate this,
we import the most recent kernel from a openSUSE Tumbleweed release.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>wwctl<span class="w"> </span>container<span class="w"> </span>import<span class="w"> </span>docker://registry.opensuse.org/science/warewulf/tumbleweed/containerfile/kernel:latest<span class="w"> </span>tw
<span class="gp"># </span>wwctl<span class="w"> </span>kernel<span class="w"> </span>import<span class="w"> </span>-DC<span class="w"> </span>tw
<span class="gp"># </span>wwctl<span class="w"> </span>kernel<span class="w"> </span>list
<span class="go">KERNEL NAME                         KERNEL VERSION            NODES</span>
<span class="go">tw                                  6.1.10-1-default               0</span>
<span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span><span class="nb">set</span><span class="w"> </span>--kerneloverride<span class="w"> </span>tw<span class="w"> </span>n001
<span class="go">Are you sure you want to modify 1 nodes(s): y</span>

<span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span>list<span class="w"> </span>-a<span class="w"> </span>n001<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>kerneloverride
<span class="go">n001                 kerneloverride     --           tw</span>
</pre></div>
</div>
</section>
<section id="configuring-the-node-s-network">
<h3>Configuring the Node’s Network<a class="headerlink" href="#configuring-the-node-s-network" title="Link to this heading"></a></h3>
<p>To configure the network, we have to pick a network device name and
provide the network information as follows:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span><span class="nb">set</span><span class="w"> </span>--netdev<span class="w"> </span>eno1<span class="w"> </span>--hwaddr<span class="w"> </span><span class="m">11</span>:22:33:44:55:66<span class="w"> </span>--ipaddr<span class="w"> </span><span class="m">10</span>.0.2.1<span class="w"> </span>--netmask<span class="w"> </span><span class="m">255</span>.255.252.0<span class="w"> </span>n001
<span class="go"> Are you sure you want to modify 1 nodes(s): y</span>
</pre></div>
</div>
<p>You can now see that the node contains configuration attributes for
container, kernel, and network:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span>list<span class="w"> </span>-a<span class="w"> </span>n001
<span class="go">NODE                 FIELD              PROFILE      VALUE</span>
<span class="go">n001                 Id                 --           n001</span>
<span class="go">n001                 comment            default      This profile is automatically included for each node</span>
<span class="go">n001                 cluster            --           --</span>
<span class="go">n001                 container          default      sle-micro-5.3</span>
<span class="go">n001                 ipxe               --           (default)</span>
<span class="go">n001                 runtime            --           (hosts,ssh.authorized_keys,syncuser)</span>
<span class="go">n001                 wwinit             --           (wwinit,wwclient,fstab,hostname,ssh.host_keys,issue,resolv,udev.netname,systemd.netname,ifcfg,NetworkManager,debian.interfaces,wicked,ignition)</span>
<span class="go">n001                 root               --           (initramfs)</span>
<span class="go">n001                 discoverable       --           --</span>
<span class="go">n001                 init               --           (/sbin/init)</span>
<span class="go">n001                 asset              --           --</span>
<span class="go">n001                 kerneloverride     --           tw</span>
<span class="go">n001                 kernelargs         --           (quiet crashkernel=no net.ifnames=1)</span>
<span class="go">n001                 ipmiaddr           --           --</span>
<span class="go">n001                 ipminetmask        --           --</span>
<span class="go">n001                 ipmiport           --           --</span>
<span class="go">n001                 ipmigateway        --           --</span>
<span class="go">n001                 ipmiuser           --           --</span>
<span class="go">n001                 ipmipass           --           --</span>
<span class="go">n001                 ipmiinterface      --           --</span>
<span class="go">n001                 ipmiwrite          --           --</span>
<span class="go">n001                 profile            --           default</span>
<span class="go">n001                 default:type       --           (ethernet)</span>
<span class="go">n001                 default:onboot     --           --</span>
<span class="go">n001                 default:netdev     --           eno1</span>
<span class="go">n001                 default:hwaddr     --           11:22:33:44:55:66</span>
<span class="go">n001                 default:ipaddr     --           10.0.2.1</span>
<span class="go">n001                 default:ipaddr6    --           --</span>
<span class="go">n001                 default:netmask    --           255.255.252.0</span>
<span class="go">n001                 default:gateway    --           --</span>
<span class="go">n001                 default:mtu        --           --</span>
<span class="go">n001                 default:primary    --           true</span>

<span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span><span class="nb">set</span><span class="w"> </span>--cluster<span class="w"> </span>cluster01<span class="w"> </span>n001
<span class="go">Are you sure you want to modify 1 nodes(s): y</span>

<span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span>list<span class="w"> </span>-a<span class="w"> </span>n001<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>cluster
<span class="go">n001                 cluster            --           cluster01</span>
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Due to the way network interface names are assigned by the Linux kernel and overwritten by udev
and systemd in the default warewulf configuration, the use of <cite>eth0/1/…</cite> as interface names can lead to issues.
We recommend the use of the original predictable names assigned to the interfaces (<cite>eno1, …</cite>),
as otherwise an interface may remain unconfigured if its name conflicts with the name of an already existing interface during boot.</p>
</div>
<p>To configure a bonded (link aggregation) network interface the following commands can be used:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span><span class="nb">set</span><span class="w"> </span>--netname<span class="o">=</span>bond0_member_1<span class="w"> </span>--netdev<span class="o">=</span>eth2<span class="w"> </span>--type<span class="o">=</span>bond-slave<span class="w"> </span>n001
<span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span><span class="nb">set</span><span class="w"> </span>--netname<span class="o">=</span>bond0_member_2<span class="w"> </span>--netdev<span class="o">=</span>eth3<span class="w"> </span>--type<span class="o">=</span>bond-slave<span class="w"> </span>n001
<span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span><span class="nb">set</span><span class="w"> </span>--netname<span class="o">=</span>bond0<span class="w"> </span>--netdev<span class="o">=</span>bond0<span class="w"> </span>--onboot<span class="o">=</span><span class="nb">true</span><span class="w"> </span>--type<span class="o">=</span>bond<span class="w"> </span>--ipaddr<span class="w"> </span><span class="m">10</span>.0.3.1<span class="w"> </span>--netmask<span class="o">=</span><span class="m">255</span>.255.255.0<span class="w"> </span>--mtu<span class="o">=</span><span class="m">9000</span><span class="w"> </span>n001
</pre></div>
</div>
<p>Note: the netnames of the member interterfaces need to match the “netname” of the bonded interface until the first “_” (in the example bond0)</p>
</section>
<section id="additional-networks">
<h3>Additional networks<a class="headerlink" href="#additional-networks" title="Link to this heading"></a></h3>
<p>Additional networks for the node can also be configured.
You will have provide all the necessary network information.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>wwctl<span class="w"> </span>node<span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--netdev<span class="w"> </span>ib0<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--hwaddr<span class="w"> </span>aa:bb:cc:dd:ee:ff<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--ipaddr<span class="w"> </span><span class="m">10</span>.0.20.1<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--netmask<span class="w"> </span><span class="m">255</span>.255.252.0<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--netname<span class="w"> </span>iband<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--type<span class="w"> </span>infiniband<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>n001
</pre></div>
</div>
</section>
<section id="vlan">
<h3>VLAN<a class="headerlink" href="#vlan" title="Link to this heading"></a></h3>
<p>You can set the type also to <code class="docutils literal notranslate"><span class="pre">vlan</span></code>.</p>
<p>Some network configuration systems use the network device name
(e.g., of the form <code class="docutils literal notranslate"><span class="pre">eno1.100</span></code>)
to configure VLANs.
Other network systems need additional network tags:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">vlan_id</span></code>: configures the VLAN ID of the interface</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">parent_device</span></code>: configures which physical interface to use</p></li>
</ul>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>wwctl<span class="w"> </span>node<span class="w"> </span><span class="nb">set</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--netdev<span class="w"> </span>vlan42<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--ipaddr<span class="w"> </span><span class="m">10</span>.0.42.1<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--netmask<span class="w"> </span><span class="m">255</span>.255.252.0<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--netname<span class="w"> </span>iband<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--type<span class="w"> </span>vlan<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--nettagadd<span class="w"> </span><span class="s2">&quot;vlan_id=42,parent_device=eth0&quot;</span><span class="w"> </span><span class="se">\</span>
<span class="w">  </span>n001
</pre></div>
</div>
</section>
<section id="static-routes">
<h3>Static Routes<a class="headerlink" href="#static-routes" title="Link to this heading"></a></h3>
<p>The included Warewulf network overlays support the configuration of static routes
using a network tag of the form <code class="docutils literal notranslate"><span class="pre">route&lt;N&gt;=&lt;dest&gt;,&lt;gateway&gt;</span></code>.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>wwctl<span class="w"> </span>node<span class="w"> </span><span class="nb">set</span><span class="w"> </span>n001<span class="w"> </span><span class="se">\</span>
<span class="w">  </span>--nettagadd<span class="w"> </span><span class="s2">&quot;route1=192.168.2.0/24,192.168.1.254&quot;</span>
</pre></div>
</div>
</section>
<section id="node-discovery">
<h3>Node Discovery<a class="headerlink" href="#node-discovery" title="Link to this heading"></a></h3>
<p>The hwaddr of a node can be automatically discovered by setting
<code class="docutils literal notranslate"><span class="pre">--discoverable</span></code> on a node. If a node attempts to provision against
Warewulf using an interface that is unknown to Warewulf, that address
is associated with the first discoverable node. (Multiple discoverable
nodes are sorted lexically, first by cluster, then by ID.)</p>
<p>Once a node has been discovered its “discoverable” flag is
automatically cleared.</p>
</section>
</section>
<section id="un-setting-node-attributes">
<h2>Un-setting Node Attributes<a class="headerlink" href="#un-setting-node-attributes" title="Link to this heading"></a></h2>
<p>If you wish to <code class="docutils literal notranslate"><span class="pre">unset</span></code> a particular value, set the value to
<code class="docutils literal notranslate"><span class="pre">UNDEF</span></code>. For example:</p>
<p>And to unset this configuration attribute:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span><span class="nb">set</span><span class="w"> </span>--cluster<span class="w"> </span>UNDEF<span class="w"> </span>n001
<span class="go">Are you sure you want to modify 1 nodes(s): y</span>

<span class="gp"># </span>wwctl<span class="w"> </span>node<span class="w"> </span>list<span class="w"> </span>-a<span class="w"> </span>n001<span class="w"> </span><span class="p">|</span><span class="w"> </span>grep<span class="w"> </span>Cluster
<span class="go">n001                Cluster            --           --</span>
</pre></div>
</div>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="boot-management.html" class="btn btn-neutral float-left" title="Boot Management" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="profiles.html" class="btn btn-neutral float-right" title="Node Profiles" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>